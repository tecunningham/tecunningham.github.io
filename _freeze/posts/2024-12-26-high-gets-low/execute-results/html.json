{
  "hash": "29b8bf28cd846e9691a84c5c3404e661",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Signal is Light-Tailed, Noise is Heavy-Tailed, & That's Why Decisions are Non-Monotonic\nauthor: Tom Cunningham\ndraft: true\nexecute:\n  echo: false\n  cache: true # caches chunk output\nformat:\n   html:\n      html-math-method:\n         method: mathjax\n         url: \"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg-full.js\"\n         #     ^ this forces SVG instead of CHTML, otherwise xypic renders weird\n      include-in-header:\n         - text: |\n            <script>window.MathJax = {\n               loader: { load: [\"https://cdn.jsdelivr.net/gh/sonoisa/XyJax-v3@3.0.1/build/xypic.js\"]},\n               tex: {packages: {'[+]': ['xypic','bm']},\n                     macros: {  bm: [\"\\\\boldsymbol{#1}\", 1],\n                                ut: [\"\\\\underbrace{#1}_{\\\\text{#2}}\", 2],\n                                utt: [\"\\\\underbrace{#1}_{\\\\substack{\\\\text{#2}\\\\\\\\\\\\text{#3}}}\", 3] }\n               }\n            };\n            </script>\nfig-width: 3       # these are in inches\nengine: knitr\neditor:\n  render-on-save: true\n---\n\n\n\nWhen your decision responds to some signal by first increasing, then decreasing it's because noise has fatter tails than the signal.\n\n\nExamples:\n\n   1. The longer you wait for a bus the likelier it is to be about to arrive, until at some point you've probably missed it.\n   2. The fewer cars on a street the better it is for parking but if there are no cars then it's probably street-cleaning day (likewise the fewer people in a subway carriage.)\n   3. The lower the price, the better value, until it becomes suspiciously cheap.\n   4. If people who take a certain drug have a 5% higher rate of birth defects then it's probably a selection effect; if they have a 500% higher rate of birth defects then it's probably causal.^[In this case the *signal* is causal effect, *noise* is selection.]\n   5. If an AB test shows a +2% effect you update a lot, if it shows a +100% effect you don't update at all because it was probably misconfigured.\n   6. Reading a biography more impressive stories make the subject seems progressively more impressive until you start to think the biographer is perhaps dazzled and you start to doubt the stories.\n\n##       Outliers have one cause, not many\n\nScott Sumner argued [\"extreme events generally have multiple causes\"](https://www.themoneyillusion.com/author/ssumner/page/183/). He was considering reasons why the COVID death rate in Italy was high, & thought probably there are multiple reasons.\n\n> \"If extreme events had single causes, then presumably they’d occur much more often.  In my book on the Great Depression I argued that there were multiple policy errors, on both the supply side and the demand side. People younger than me won’t remember Beamon’s Leap, but I do: \n  \n> *\"While Beamon received mostly accolades, there also were detractors. The critics harped on the conditions — a following wind of 2.0 meters per second (the maximum allowable velocity for a record), a lightning fast runway and, most important, the thin air of Mexico City. Beamon’s defenders point out that the other competitors, which included the world record co-holders, had the same factors going for them and they didn’t jump close to Beamon.*\n\nPut formally: when the influences are Normally distributed then Sumner will be right: extreme events have many causes. But when the influences have fatter-tailed distributions then the opposite will be true: extreme events will have unique causes, and are probably unexeceptional in other ways.\n\nIn fact we can look at the distribution of the .\n\n![](images/2024-12-26-07-51-35.png)\n\n##       Theory\n\nWe can get analytic expressions for a non-montonic posterior if we assume Cauchy noise, but it's \n\n1. If x is normal with known mean but unknown variance, drawn from inverse-gamma, then posterior predictive is is t-distributed.\n2. The experiments case is interesting: there (i) the noise is reliably Gaussian; (ii) treatment effects are generally fat-tailed, and so you'd expect that treatment effect would dominate. However there's an additional source of noise in experiment-setup bugs, which is even fatter tailed.\n\n\n| signal                 | noise  | posterior shape | posterior expression |\n|------------------------|:------:|:---------------:|:--------------------:|\n| Normal                 | Normal |    monotonic    |       analytic       |\n| Discrete               | Normal |    monotonic    |       analytic       |\n| Discrete               | Cauchy |  non-monotonic  |       analytic       |\n| Spike-and-uniform slab | Normal |  non-monotonic  |     not analytic     |\n| Spike-and-uniform slab | Cauchy |  non-monotonic  |       analytic       |\n|                        |        |                 |                      |\n\n\nCan we get something from Tweedie's formula?\n: Tweedie's formula gives us the posterior from the empirical distribution, as long as the noise is from an exponential family. First we'll do it with Normal noise: we observe $x=v+u$, signal $v$ is drawn from some distribution $g$ and noise is Normal:\n   $$\\begin{aligned}\n      v \\sim g(.) \\text{  and  } x|v \\sim N(v,\\sigma^2) \\\\\n   \\end{aligned}$$\n: Tweedie tells us:\n   $$E[v|x] = x + \\sigma^2 \\frac{d}{dx}\\log f(x)$$\n\n: We want to find non-monotonicities:\n   $$\\begin{aligned}\n      \\frac{dE[v|x]}{dx} = 1 + \\sigma^2 \\frac{d^2}{dx^2}\\log f(x) &< 0 \\\\\n      \\frac{d^2}{dx^2}\\log f(x) &< -\\frac{1}{\\sigma^2} \n   \\end{aligned}$$\n: So we'll get non-monotonicities where the empirical distribution is highly concave.\n\n##          literature\n\nAnthony O’Hagana and Luis Pericchi (2012) [Bayesian heavy-tailed models and conflict resolution: a review](https://projecteuclid.org/download/pdfview_1/euclid.bjps/1341320249) They define \"conflict resultio\" as \"\"\n\n\n- [Heavy tails slides](http://users.cms.caltech.edu/~adamw/papers/2013-SIGMETRICS-heavytails.pdf)\n\n\n\n\n##          prompt\n\nPrompt: I want to find a closed-form expression where the expectation of an unobserved latent variable is non-monotonic in the signal. E.g. suppose we have:\n\n   $$x = v + e$$\n\nI want a closed-form expression for E[v|x]. This is straight-foward if v and e are Gaussian. But I want an expression where E[v|x] is non-monotonic in x, and intuitively this will happen when e has fatter tails than v. It's OK if noise is non-additive.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}