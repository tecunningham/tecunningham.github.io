<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.357">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Tom Cunningham">
<meta name="dcterms.date" content="2023-08-11">
<meta name="description" content="Tom Cunningham blog">

<title>If You Overtake More Runners than You’re Overtaken by | Tom Cunningham</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script type="text/javascript">

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-12027453-1', 'auto');

ga('send', {
  hitType: 'pageview',
  'anonymizeIp': true,
});
</script>
<script>window.MathJax = {
         loader: { load: ['[custom]/xypic.js'],
                     paths: {custom: 'https://cdn.jsdelivr.net/gh/sonoisa/XyJax-v3@3.0.1/build/'}},
      tex: {packages: {'[+]': ['xypic']},
         macros: {
            bm: ["\\boldsymbol{#1}", 1],
            ut: ["\\underbrace{#1}_{\\text{#2}}", 2],
            utt: ["\\underbrace{#1}_{\\substack{\\text{#2}\\\\\\text{#3}}}", 3]
         }}};
</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../styles.css">
<meta name="twitter:title" content="If You Overtake More Runners than You’re Overtaken by | Tom Cunningham">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="tecunningham.github.io/posts/2023-08-13-runner-percentile_files/figure-html/unnamed-chunk-1-1.png">
<meta name="twitter:image-height" content="1079">
<meta name="twitter:image-width" content="1118">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Tom Cunningham</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href=".././about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/testingham" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/tom-cunningham-a9433/" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://tecunningham.github.io/index.xml" rel="" target=""><i class="bi bi-rss-fill" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://scholar.google.com/citations?user=MDB_DgkAAAAJ" rel="" target="">
 <span class="menu-text">scholar</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">If You Overtake More Runners than You’re Overtaken by</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Tom Cunningham </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">August 11, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul class="collapse">
  <li><a href="#fb-post" id="toc-fb-post" class="nav-link active" data-scroll-target="#fb-post">FB Post</a></li>
  <li><a href="#derivation" id="toc-derivation" class="nav-link" data-scroll-target="#derivation">Derivation</a></li>
  <li><a href="#uniform-distribution-of-speeds" id="toc-uniform-distribution-of-speeds" class="nav-link" data-scroll-target="#uniform-distribution-of-speeds">Uniform Distribution of Speeds</a></li>
  <li><a href="#normal-distribution-of-speeds" id="toc-normal-distribution-of-speeds" class="nav-link" data-scroll-target="#normal-distribution-of-speeds">Normal Distribution of Speeds</a></li>
  <li><a href="#simulations" id="toc-simulations" class="nav-link" data-scroll-target="#simulations">Simulations</a></li>
  <li><a href="#post" id="toc-post" class="nav-link" data-scroll-target="#post">Post</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  <li><a href="#notes" id="toc-notes" class="nav-link" data-scroll-target="#notes">Notes</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">




<style>
   h1 {  border-bottom: 4px solid black;}
   h2 {  border-bottom: 1px solid gray; padding-bottom: 0px; font-size: 14px; color: black; }
   dl {display: grid;grid-template-columns: max-content auto;}
   dt {grid-column-start: 1;}
   dd {grid-column-start: 2; margin-left: 2em;}
</style>
<p><strong>Suppose you overtake 10 times as many runners as you’re overtaken by, what can you say about your speed relative to the other runners?</strong> For concreteness suppose everyone is running around a circular track in the same direction forever, and each person started at a random point.</p>
<p><strong>Answer:</strong> We can write the general relationship as follows: <span class="math display">\[\frac{\text{frequency of passing}}{\text{frequency of being passed}}
         =\frac{\text{share slower runners}}{\text{share faster runners}}
            \times
            %= \frac{E[s-x|x&lt;s]}{E[x-s|x&gt;s]}\frac{P(x&lt;s)}{P(x&gt;s)}
            \frac{\text{avg excess above slower runners}}{\text{avg lag behind faster runners}}
   \]</span></p>
<p><strong>The ratio of slower/faster will not generally be equal to the ratio of passing/passed.</strong> The reason is that your propensity to encounter another runner depends on the difference in speeds: you will rarely pass or be passed by those who run similar speeds to you.</p>
<p><strong>Some additional implications:</strong></p>
<ol type="1">
<li>If the distribution of running-speeds is Gaussian then your ratio of passing/passed exaggerates your position in the distribution of speeds, e.g.&nbsp;if you pass 10X as many people as you’re passed by then there are <em>fewer</em> than 10X as many people who are slower than you relative to people faster than you.</li>
<li>If the distribution of running-speeds is sufficiently fat-tailed (e.g.&nbsp;<span class="math inline">\(t\)</span>-distribution with df&lt;2), then you get the opposite implication (I think a sufficient condition for exaggeration seems to be log-concavity of the probability density function).</li>
<li>If your frequency of passing others is the same as the frequency of being passed then you must be running exactly the mean speed.</li>
</ol>
<section id="fb-post" class="level1">
<h1>FB Post</h1>
<p>My claim: keeping track of people you pass when you run will typically <em>exaggerate</em> your ranking in relative speed, e.g.&nbsp;if you pass people by with a ratio of 3:1 then you’re probably not at the 75th percentile of speeds, you’re significantly lower than that. (However this requires a sufficiently thin-tailed distribution of speeds).</p>
<p>More formally:</p>
<p>WITHOUT ASSUMPTION ON DISTRIBUTION</p>
<ol type="1">
<li><p>I cannot infer anything certain about my rank. Given the ratio of pass/passed-by, I could be either the fastest or the slowest runner. E.g. suppose the majority of runners were just slightly faster than me, but a few runners who were much slower, then I would pass many more runners than I passed by, but nevertheless my rank among runners would be low.</p></li>
<li><p>I can infer whether I’m faster or slower than average. If the number of people who pass me is equal to the number of people who I’m passed by then I must be going the <em>average</em> speed. If I pass more than I’m passed by then I must be going faster than average. As a corollary: if the distribution is symmetric (mean=median) then if you pass more people than you’re passed by then you must have above-median speed.</p></li>
</ol>
<p>WITH ASSUMPTION ON DISTRIBUTION</p>
<p>Let’s say that “exaggeration” holds if your position in the passing distribution (passes/(passes+passedby)) is farther from 50% than your percentile in the distribution of speeds (faster/(faster+slower)).</p>
<ol type="1">
<li><p>If speeds are uniform then there’s a very simple solution, and exaggeration will always hold. The ratio of faster/slower will be equal to the square root of the ratio of passes/passed-by. E.g. if I pass 100X as many people as I pass by, then there will be only 10X as many people who I’m faster than than who I’m slower than. There’s a simple graphical derivation: the volume of people I pass (and are passed by) will be given by the area of triangles on either side of my speed, and the areas of those triangles are proportional to the square of the number of runners.</p></li>
<li><p>If I assume a Normal distribution then there’s an analytic solution. The solution is a little bit ugly but exaggeration always holds: i.e.&nbsp;the share of people you pass always exceeds your percentile in the speed distribution.</p></li>
</ol>
<p>However with a t-distribution exaggeration with low degrees of freedom then exaggeration won’t always hold. I think there must be some condition on how fat-tailed the distribution is for exaggeration to hold.</p>
</section>
<section id="derivation" class="level1">
<h1>Derivation</h1>
<p><span class="math display">\[\begin{aligned}
      s &amp;= \text{my speed} \\
      x &amp;\sim \phi, \text{other runners' speeds} \\
      p=\text{runners I pass}
         &amp;= \int_{-\infty}^s \utt{\phi(x)}{runners}{at speed $x$}\utt{(s-x)}{frequency}{we pass}dx\\
         &amp;= s\Phi(s)-\int_{-\infty}^sx\phi(x)dx \\
      q= \text{runners who pass me}
         &amp;= \int_{s}^\infty \utt{\phi(x)}{runners}{at speed $x$}\utt{(x-s)}{frequency}{we pass}dx\\
         &amp;= \int_{s}^{\infty}x\phi(x)dx-s(1-\Phi(s)) \\
      r=\text{ratio pass/passed}
         &amp;= \frac{s\Phi(s)-\int_{-\infty}^sx\phi(x)dx}
            {\int_{s}^{\infty}x\phi(x)dx-s(1-\Phi(s))} \\
         &amp;= \utt{\frac{E[s-x|x&lt;s]}{E[x-s|x&gt;s]}}{ratio of speed of faster}{to speed of slower}
            \utt{\frac{P(x&lt;s)}{P(x&gt;s)}}{ratio of slower}{to faster}
   \end{aligned}
   \]</span></p>
<p>This last condition is the most important. It implies you can figure out your rank among runners <span class="math inline">\(\frac{P(x&lt;s)}{P(x&gt;s)}\)</span> if you know the relative distance in speeds among those who are faster and those who are slower. If the speed differences are identical then the two ratios are the same. For most distributions (e.g.&nbsp;the Normal) the conditional expectations will be such that the slower guys are closer than the faster, implying the exaggeration property.</p>
<p>Derivation of the final condition: <span class="math display">\[\begin{aligned}
      E[x|x&lt;s]
         &amp;= \frac{\int_{-\infty}^s x\phi(x)dx}{\Phi(s)}\\
         &amp;= s-\frac{p}{\Phi(s)}
         &amp;&amp; \text{(from above)} \\
      E[x|x&gt;s]
         &amp;= \frac{\int_{s}^{\infty} x\phi(x)dx}{1-\Phi(s)}\\
         &amp;= s+\frac{q}{(1-\Phi(s))}\\
      \frac{E[x|x&lt;s]-s}{E[x|x&gt;s]-s}
         &amp;= -\frac{p}{q}\frac{1-\Phi(s)}{\Phi(s)}\\
      r=\frac{p}{q}
         &amp;= \frac{E[s-x|x&lt;s]P(x&lt;s)}{E[x-s|x&gt;s]P(x&gt;s)}
   \end{aligned}
   \]</span></p>
<hr>
<p>Would be nice to reorganize to show the relationship between <span class="math inline">\(r\)</span> and the mean speed, and see whether the unknown could be expressed in SDs.</p>
<p>Stating the condition again more explicitly: <span class="math display">\[\begin{aligned}
      \ut{\frac{\int_s^\infty (x-s)\phi(x)dx}{\int_{-\infty}^s (s-x)\phi(x)dx}}{ratio pass/passed}
            &amp;= \frac{a}{b}
               \utt{\frac{a}{b}}{asdf}{asfd}
   \end{aligned}
   \]</span></p>
<p>Rewriting</p>
<p><span class="math display">\[\begin{aligned}
   E[x-s|x&gt;s]P(x&gt;s)r &amp;= E[s-x|x&lt;s]P(x&lt;s) \\
   E[x-s|x&gt;s]P(x&gt;s)(r-1) &amp;= \mu \\
\end{aligned}
\]</span></p>
</section>
<section id="uniform-distribution-of-speeds" class="level1">
<h1>Uniform Distribution of Speeds</h1>
<p>With a uniform distribution you can easily see that the number of passings is proportional to the area of the triangle, and so proportional to the <em>square</em> of the number of runners below/above your speed.</p>
<div class="cell" data-hash="2023-08-13-runner-percentile_cache/html/unnamed-chunk-1_952d91abb570367f918b6818066588e6">
<div class="cell-output-display">
<p><img src="2023-08-13-runner-percentile_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="normal-distribution-of-speeds" class="level1 page-columns page-full">
<h1>Normal Distribution of Speeds</h1>
<div class="cell page-columns page-full" data-hash="2023-08-13-runner-percentile_cache/html/unnamed-chunk-2_03ddf149a1bb2dea797b07e601f29641">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">
<p><img src="2023-08-13-runner-percentile_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div></div></div>
<div class="cell page-columns page-full" data-hash="2023-08-13-runner-percentile_cache/html/unnamed-chunk-3_d500f10e7ad4c4cb290380fcfb368349">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">
<p><img src="2023-08-13-runner-percentile_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div></div></div>
<div class="cell page-columns page-full" data-hash="2023-08-13-runner-percentile_cache/html/unnamed-chunk-4_91c13ed99fa1c2f654bac2f8e54e5813">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">
<p><img src="2023-08-13-runner-percentile_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div></div></div>
<div class="cell page-columns page-full" data-hash="2023-08-13-runner-percentile_cache/html/unnamed-chunk-5_f02d49a7ad3257653af367e666a43eb7">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">
<p><img src="2023-08-13-runner-percentile_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div></div></div>
<div class="cell" data-hash="2023-08-13-runner-percentile_cache/html/unnamed-chunk-6_8ed5226d8a871a158e53fb079fb300f1">
<div class="cell-output-display">
<p><img src="2023-08-13-runner-percentile_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><span class="math display">\[\begin{aligned}
   s &amp;= \text{my speed} \\
   x &amp;\sim \phi, \text{other runners' speeds} \\
   \text{runners I pass}
      &amp;= \int_{-\infty}^s \utt{\phi(x)}{runners w}{speed $x$}\utt{(s-x)}{prob I}{pass them}dx\\
      &amp;= s\Phi(s) - \int_{-\infty}^s x\phi(x) dx \\
      &amp;= s \Phi(s) + \phi(s) \\
      &amp; \text{(last step uses $\phi=N(0,1)$)}\\
   \text{runners who pass me}
      &amp;= \int_{s}^\infty \utt{\phi(x)}{runners w}{speed $x$}\utt{(x-s)}{prob they}{pass me}dx\\
      &amp;= \left[  -\phi(x) -s\Phi(x)  \right]^\infty_s \\
      &amp;= (0+\phi(s)) - (s-s\Phi(s))\\
      &amp;= \phi(s) - s + s\Phi(s) \\
   r=\text{ratio pass/passed by}
      &amp;= \frac{s\Phi(s)+\phi(s)}{\phi(s)+s\Phi(s)-s}\\
   \text{share I pass}
      &amp;= \frac{s \Phi(s) + \phi(s)}{s \Phi(s) + \phi(s)+\phi(s) - s + s\Phi(s)} \\
      &amp;= \frac{s \Phi(s) + \phi(s)}{2s\Phi(s) + 2\phi(s) - s}
\end{aligned}
\]</span></p>
<p><strong>Note on derivatives:</strong></p>
<p><span class="math display">\[\begin{aligned}
   \phi(x) &amp;= \frac{1}{\sqrt{2\pi}}e^{-x^2/2}
      &amp;&amp; \text{(standard normal)}\\
   \phi'(x) &amp;= -x\phi(x)
\end{aligned}
\]</span></p>
</section>
<section id="simulations" class="level1">
<h1>Simulations</h1>
<div class="cell" data-hash="2023-08-13-runner-percentile_cache/html/unnamed-chunk-7_9a815a0ababf28b9b926c8c1c68ff57e">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 29.55388</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9.330527</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.7791446</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.6914625</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 95716730  4576917</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  8.652357 14.289082</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 57.60283 52.84557</code></pre>
</div>
<div class="cell-output-display">
<p><img src="2023-08-13-runner-percentile_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="2023-08-13-runner-percentile_files/figure-html/unnamed-chunk-7-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Each cell shows first the ratio pass/passed, then the ratio faster/slower <span class="math inline">\(\frac{\Phi(s)}{1-\Phi(s)}\)</span>. We can see that exaggeration holds in each cell.</p>
<p>Note that t with df=1 is weird because it doesn’t have an expectation, i.e.&nbsp;<span class="math inline">\(x\phi(x)\)</span> never goes to zero, so it’s confusing to think about.</p>
<table class="table">
<thead>
<tr class="header">
<th><span class="math inline">\(s\)</span></th>
<th>gauss</th>
<th>t(df=1)</th>
<th>t(df=2)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>-1</td>
<td>.08 / .2</td>
<td>.5/.3</td>
<td>.26/.28</td>
</tr>
<tr class="even">
<td>0</td>
<td>1/1</td>
<td>1/1</td>
<td>1/1</td>
</tr>
<tr class="odd">
<td>0.5</td>
<td>3.5/2.4</td>
<td>1.4/1.9</td>
<td>2.0/2.1</td>
</tr>
<tr class="even">
<td>1</td>
<td>13.0/5.8</td>
<td>1.9/3.0</td>
<td>3.8/4.0</td>
</tr>
<tr class="odd">
<td>2</td>
<td>238/49</td>
<td>3.2/5.8</td>
<td>10.3/10.3</td>
</tr>
<tr class="even">
<td>10</td>
<td>95M/4M</td>
<td>8.6/14.3</td>
<td>58/53</td>
</tr>
</tbody>
</table>
</section>
<section id="post" class="level1">
<h1>Post</h1>
<p>Suppose you go for a run and you pass 90% of people you see (the other 10% of people pass you). What’s your overall rank in the distribution of speeds?</p>
<p>We can’t know for sure but if you assume the distribution of speeds is Normal then you’re at approximately 80% (i.e.&nbsp;80% of runners are slower, 20% are faster). The asymmetry is because you’re relatively less likely to pass (or be passed by) people who run at a similar speed as you.</p>
</section>
<section id="references" class="level1">
<h1>References</h1>
<p><strong>Mathoverflow <a href="https://mathoverflow.net/questions/40913/you-pass-x-people-and-y-people-pass-you-how-relatively-fast-are-you">“You pass X people and Y people pass you: how relatively fast are you?”</a></strong></p>
<p>There are a number of sketches of answers but no explicit solutions. A few answers wrongly conclude that the ratio of overtakes/overtakens is equal to the ratio of faster/slower runners.</p>
<p><strong>Clevenson, Schilling, Watkins and Watkins (2001) “The Average Speed on the Highway”</strong></p>
<p>They show that if the number of cars you pass is equal to the number of cars that pass you then you must be driving the average speed (not necessarily the median speed).</p>
</section>
<section id="notes" class="level1">
<h1>Notes</h1>
<p>Matt:</p>
<blockquote class="blockquote">
<p>“I think I can get some bounds … if r&gt;1: since E|s-x| &lt;= E(s-x)^2 we get that s&lt;=mean + (r-1)/(2 ) sd. Only assumption is that mean and sd exist – and I’ve done my sums right!”</p>
</blockquote>
<p>Oh very nice Matt. It took me a bit but now I see it (though I can’t quite derive it). So if I pass 3X as many people as pass me, then I know that my speed cannot be more than 1.2 SDs above the mean (=2/sqrt(3)). It seems to me intuitive that there ought to also be a lower bound but may be wrong (we know that s&gt;mean if r&gt;1, intuitive that we can say something stronger than that).</p>
<p>Erik:</p>
<blockquote class="blockquote">
<p>“I think you’re less likely to see faster runners. The probability you intersect their path at the same time is lower because the time interval they’re there is shorter … think (4) is related to length/size bias (https://en.wikipedia.org/wiki/Length_time_bias) I wasn’t imagining the circular track scenario either, a straight line where people jump in at random points at random speeds. If you imagine runners are at every point in their run at once, and you draw a line at any point in the track at some instant, since a fast runner is on the track for less time you’re less likely to hit their trajectory. I think depending on the setup of the problem this can vary – i.e.&nbsp;depending on track shape, distribution of times spent running, and of speeds. Also I could be missing something”</p>
</blockquote>
<p>Length-time bias:</p>
<blockquote class="blockquote">
<p>“if the same number of slow-growing and fast-growing tumors appear in a year, the screening test detects more slow-growers than fast-growers. If the slow growing tumors are less likely to be fatal than the fast growers, the people whose cancer is detected by screening do better, on average, than the people whose tumors are detected from symptoms</p>
</blockquote>
<p><a href="https://www.allendowney.com/blog/2023/10/28/why-are-you-so-slow/">Data that speeds are lognormal</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>